<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../tikkun-line/tikkun-line.html">

<dom-module id="tikkun-page">
    <template>
        <style>

            @font-face {
                font-family: "ShlomosemiStam";
                src: url(../assets/fonts/ShlomosemiStam.ttf);
            }

            :host {
                display: flex;
                justify-content: center;
                font-family: Shlomosemistam;
            }
        </style>

        <iron-ajax
            id="fetcher"
            auto
            url="/build/pages/{{pageNumber}}.json"
            last-response="{{lines}}">
        </iron-ajax>
        <table>
            <template is="dom-repeat" items="{{lines}}" as="line">
                <tr>
                    <td>
                        <tikkun-line
                            columns="[[line.text]]"
                            verses="[[line.verses]]"
                            aliyot="[[line.aliyot]]"
                            petucha="[[line.isPetucha]]"
                            annotated="[[annotated]]">
                        </tikkun-line>
                    </td>
                </tr>
            </template>
        </table>
    </template>

    <script>
        Polymer({
            is: 'tikkun-page',

            properties: {
                pageNumber: Number,
                annotated: Boolean
            }
        })
    </script>
</dom-module>
