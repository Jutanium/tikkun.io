<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="tikkun-line">
    <template>
        <style>
            @font-face {
                font-family: "ShlomosemiStam";
                src: url(../assets/fonts/ShlomosemiStam.ttf);
            }

            .line {
                font-family: Shlomosemistam;
                text-align: justify;
                position: relative;
                display: block;
                line-height: 100%;
            }

            .line.mod-petucha {
                text-align: start;
            }

            .line::after {
                content: "";
                display: inline-block;
                width: 100%;
            }

            .column.mod-setuma {
                display: flex;
                justify-content: space-between;
            }
        </style>

        <span class$="line {{petuchaClass(petucha)}}">
            <template is="dom-repeat" items="{{columns}}" as="column">
                <span class$="column {{setumaClass(column)}}">
                    <template is="dom-repeat" items="{{column}}" as="fragment">
                        <span>{{fragment}}</span>
                    </template>
                </span>
            </template>
        </span>
    </template>

    <script>
        Polymer({
            is: 'tikkun-line',

            properties: {
                columns: Array,
                verses: Array,
                aliyot: Array,
                petucha: Boolean
            },

            petuchaClass: function (isPetucha) {
                return isPetucha
                    ? 'mod-petucha'
                    : '';
            },

            setumaClass: function (column) {
                return column.length > 1
                    ? 'mod-setuma'
                    : '';
            }
        })
    </script>
</dom-module>
